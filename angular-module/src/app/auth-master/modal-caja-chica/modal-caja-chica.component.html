  <!--Modal caja chica-->
  <ng-template #CajaChica let-modal>
    <!--form del modal caja chica-->
    <form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)">
      <!--Cabezal del modal caja chica-->
      <div class="modal-header" id="demoFont">
        <h6 class="modal-title"><strong>Detalle Caja Chica</strong></h6>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <!--Cuerpo del body caja chica-->
      <div class="modal-body">
          <ngb-alert *ngIf="errorIngreso" [dismissible]="false">
              <strong *ngFor="let error of ingresoStatus">
                {{error}}
              </strong> 
            </ngb-alert>
        <div class="row">

          <div class="col-sm-3 col-md-4 col-lg-4"> <br><label><strong>Ingrese Fecha</strong></label> <br>
            <div class="form-group">
              <div class="input-group">
                <input 
                type="date"
                class="form-control form-control-sm" 
                name="fecha"
                #fecha="ngModel"
                [(ngModel)]="datosCajaChica.fecha"
                required>
              </div>
            </div>
          </div>

          <div class="col-sm-6 col-md-4 col-lg-4">
            <br><label><strong>Ingrese Detalle</strong></label>
            <input 
            class="form-control form-control-sm"
            type="text"
            minlength="5"
            maxlength="80"
            name="descripcion"
            #descripcion="ngModel"
            [(ngModel)]="datosCajaChica.descripcion"
            required>
            <small *ngIf="!descripcion.valid && descripcion.touched" class="invalid-feedback d-block">
              Compruebe que la descripcion ingresada no se encuentre vacia y cumpla un minimo de 5 caracteres
            </small>
          </div>

          <div class="col-sm-6 col-md-4 col-lg-4">
            <br><label><strong>Igrese Monto</strong></label>
            <input 
            class="form-control form-control-sm"
            type="number"
            name="monto"
            #monto="ngModel"
            [(ngModel)]="datosCajaChica.monto_egreso"
            required>
            <small *ngIf="!monto.valid && monto.touched" class="invalid-feedback d-block">
              Compruebe que el monto ingresado solo contiene numeros y no este vacio
            </small>
          </div>

          <div class="col-sm-6 col-md-4 col-lg-4">
            <br><label><strong>Igrese N° Documento</strong></label>
            <input 
            class="form-control form-control-sm"
            name="nDocumento"
            #nDocumento="ngModel"
            [(ngModel)]="datosCajaChica.numero_documento"
            required>
            <small *ngIf="!nDocumento.valid && nDocumento.touched" class="invalid-feedback d-block">
              Compruebe que el N° Documento ingresado solo contiene numeros y no este vacio
            </small>
          </div>

          <div class="col-sm-3 col-md-4 col-lg-4">
            <br><label><strong>Subir Documento</strong></label>
            <input class="form-control-file" type="file">
          </div>

          <div class="col-sm-6 col-md-4 col-lg-4"><br><label><strong>Seleccione Tipo</strong></label>
            <select (change)="changeDefinicion($event)" class="form-control form-control-sm">
              <option *ngFor="let tipo of selectDefinicion" [value]="tipo.id">{{tipo.descripcion}}</option>
            </select>
          </div>

          <div class="col-sm-6 col-md-4 col-lg-4">
            <br><label><strong>Guardar Caja Chica</strong></label><br>
            <button class="btn btn btn-success btn-block btn-sm" type="submit" value="ingresar"
            [disabled]="loginForm.invalid">Guardar</button>
          </div>

        </div>
        <hr>
        <!--Tabla del Modal Caja Chica-->
        <ngb-alert *ngIf="cajaChicaError" [dismissible]="false">
          <strong>¡No existen ingresos en esta echa!</strong> Compruebe que el <strong>Año</strong> y <strong>mes</strong> sean los correctos.
        </ngb-alert>
        <div class="row">
          <div class="col-sm-6 col-md-3 col-lg-3"><br><label><strong>Filtro por Año</strong></label>
            <select (change)="changeAnio($event)" class="form-control form-control-sm">
              <option *ngFor="let anio of selectAnio" [value]="anio.id">{{anio.descripcion}}</option>
            </select>
          </div>

          <div class="col-sm-6 col-md-3 col-lg-3"><br><label><strong>Filtro por Mes</strong></label>
            <select (change)="changeMes($event)" class="form-control form-control-sm">
              <option *ngFor="let mes of selectMes" [value]="mes.id">{{mes.descripcion}}</option>
            </select>
          </div>
        </div><br>

        <div class="table-responsive">
          <table class="table table-bordered table-sm">
            <thead text-sm class="text-center">
              <tr>
                <th colspan="11" class="ColorThCS">Tabla caja chica</th>
                <th colspan="2" class="ColorThCS">Monto Inicial</th>
                <td colspan="2"><strong>{{ 100000 | currency:"CLP" : "symbol-narrow":'1.0'}}</strong></td>
              </tr>
              <tr>
                <th colspan="2">Fecha</th>
                <th colspan="2">N° de Doc</th>
                <th colspan="2">PDF</th>
                <th colspan="3">Detalle</th>
                <th colspan="2">Ingresos</th>
                <th colspan="2">Egresos</th>
                <th colspan="2">Actual</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of cajaChica" class="text-center">
                <td colspan="2">{{item.fecha}}</td>
                <td colspan="2">{{item.numero_documento}}</td>
                <td colspan="2">{{item.archivo_documento}}</td>
                <td colspan="3">{{item.descripcion}}</td>
                <td colspan="2">{{item.monto_ingreso | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
                <td colspan="2">{{item.monto_egreso | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
                <td colspan="2">{{item.saldo_actual | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!--Tabla del total Modal Caja Chica-->
        <div class="table-responsive">
          <table class="table table-bordered table-sm">
            <thead text-sm class="text-center">
              <tr>
                <th col>INGRESOS</th>
                <td col><strong>{{ 0 | currency:"CLP" : "symbol-narrow":'1.0'}}</strong></td>
              </tr>
      
              <tr>
                <th col>EGRESOS</th>
                <td col><strong>{{ 90000 | currency:"CLP" : "symbol-narrow":'1.0'}}</strong></td>
              </tr>
              <tr>
                <th col>CIERRE DEL MES</th>
                <td col><strong>{{ 10000 | currency:"CLP" : "symbol-narrow":'1.0'}}</strong></td>
              </tr>
            </thead>
          </table>
        </div>

      </div>

      <!--Boton para salir del modal caja chica-->
      <div class="modal-footer">
        <button type="button" class="btn btn-info" (click)="modal.close('Close click')">Volver a Cuenta Sindical
        </button>
      </div>
    </form>
  </ng-template>

      <!--Boton Para llamar al modal caja chica-->
      <label><strong>Caja Chica</strong></label><br>
      <button class="btn btn btn-success btn-block btn-sm" (click)="openCajaChica(CajaChica)">Ingresar</button>
