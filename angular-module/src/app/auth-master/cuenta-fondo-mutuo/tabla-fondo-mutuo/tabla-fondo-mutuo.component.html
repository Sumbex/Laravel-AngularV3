<!-- HTML NORMAL EN VISTA -->
<div class="card">
  <div class="card-body">

    <div class="row">

      <div class="col-12 col-md-2 col-lg-2"><br><label><strong>AÑO</strong></label>
        <select (change)="btn_reload()" [(ngModel)]="anio" class="form-control form-control-sm">
          <option *ngFor="let anio of anios" [value]="anio.id">{{anio.descripcion}}</option>
        </select>
      </div>

      <div class="col-12 col-md-3 col-lg-3"><br><label><strong>REFRESCAR TABLA</strong></label> <br>
        <button id="refrescarTabla2" (click)="btn_reload(); search=''; blockLoad2=true; "
          class="btn btn-secondary btn-sm">
          Actualizar &nbsp; <i [hidden]="blockLoad2" class="fas fa-sync"></i>
          <img [hidden]="!blockLoad2" height="15" src="https://thumbs.gfycat.com/UnitedSmartBinturong-max-1mb.gif">
        </button>
      </div>

      <div class="col-12 col-md-7 col-lg-7"><br><label><strong>DEFINICIONES</strong></label> <br>
        <label>
          <ngb-alert [dismissible]="false">
            <b class="black">■</b> DIA DE SUELDO = <b class="black">D.S.</b> <br>
            <b class="black">■</b> PAGO DE BENEFICIOS = <b class="black">P.B.</b> <br>
            <b class="black">■</b> ACUMULADO DE SOCIO = <b class="black">A.S.</b> <br>
            <b class="black">■</b> PARA REALIZAR EL PAGO DE BENEFICIO DEBE SELECIONAR EL CAMPO
            <b class="black">P.B. <i class="fas fa-info-circle"></i></b> DE SU RESPECTIVO MES.<br>
            <b class="black">■</b> PARA VER UN RESUMEN DEL PAGO DE BENEFICIO OTORGADO DEBE SELECCIONAR EL
            <b class="black">MES <i class="fas fa-info-circle yellow"></i></b> PARA VERIFICAR SI ESTA TODO CORRECTO.<br>
            <b class="black">■</b> LOS SOCIOS DE COLOR <b class="red2">ROJO</b> ESTAN <b class="black">DESVINCULADOS</b>
            DEL AÑO SELECCIONADO, PERO NO PAGADOS DE SU BENEFICIO. <br>
            <b class="black">■</b> LOS SOCIOS DE COLOR <b class="blue2">AZUL</b> ESTAN CON SU <b class="black">PAGO DE
              BENEFICIO</b> AL DIA, DEL AÑO
            SELECCIONADO.
          </ngb-alert>
        </label>
      </div>
    </div>

    <div class="row justify-content-end">

      <div class="col-12 col-md-6 col-lg-6" [hidden]="ocultarDescripcion">
        <label>
          <ngb-alert class="black" [dismissible]="false">
            ■ {{descripcionDesc | uppercase}}
          </ngb-alert>
        </label>
      </div>

      <div class="col-12 col-md-6 col-lg-6" [hidden]="blockLoad3">
        <img height="40" src="https://thumbs.gfycat.com/UnitedSmartBinturong-max-1mb.gif">
      </div>

      <div class="col-12 col-md-3 col-lg-3">
        <label><strong>HABILITAR ACUMULADO &nbsp;</strong></label>
        <button class="btn btn-info white">HABILITAR</button>
      </div>

      <div class="col-12 col-md-3 col-lg-3">
        <label><strong>GENERAR ACUMULADO &nbsp;</strong></label>
        <button class="btn btn-success white">GENERAR</button>
      </div>

    </div>

    <div class="table-responsive tableFixHead">
      <table class="table table-striped table-bordered table-sm">

        <thead text-sm>
          <tr>
            <th style="background: #138D75" colspan="4">
              <label class="float-right"> BUSCAR SOCIO:</label>
            </th>

            <th style="background: #138D75" colspan="24">
              <input class="form-control form-control-sm" placeholder="Buscar por nombre......" [(ngModel)]="search">
            </th>

            <th style="background: #138D75" colspan="4">
              <button (click)="filtrar()" class="btn btn-secondary btn-sm">
                BUSCAR <i [hidden]="blockLoad" class="fas fa-search"></i>
                <img [hidden]="!blockLoad" height="15" src="https://thumbs.gfycat.com/UnitedSmartBinturong-max-1mb.gif">
              </button>
            </th>
          </tr>

          <tr class="text-center">
            <!-- <th colspan="1" rowspan="2" style="background: #138D75"><i class="fas fa-id-card"></i> RUT</th> -->
            <th colspan="4" rowspan="2" style="background: #138D75">
              <h6><i class="fas fa-user"></i></h6><br> NOMBRE
            </th>
            <th colspan="2" style="background: #138D75" (click)="mesBeneficio = 1; descripcionDescuento();"> ENERO <br>
              <i class="fas fa-info-circle" style="color: rgb(255, 238, 7); cursor: pointer" placement="top"
                ngbTooltip="Presione este icono para ver el detalle del pago de beneficio."></i>
            </th>
            <th colspan="2" style="background: #138D75" (click)="mesBeneficio = 2; descripcionDescuento();"> FEBRERO
              <br>
              <i class="fas fa-info-circle" style="color: rgb(255, 238, 7); cursor: pointer" placement="top"
                ngbTooltip="Presione este icono para ver el detalle del pago de beneficio."></i>
            </th>
            <th colspan="2" style="background: #138D75" (click)="mesBeneficio = 3; descripcionDescuento();"> MARZO <br>
              <i class="fas fa-info-circle" style="color: rgb(255, 238, 7); cursor: pointer" placement="top"
                ngbTooltip="Presione este icono para ver el detalle del pago de beneficio."></i>
            </th>
            <th colspan="2" style="background: #138D75" (click)="mesBeneficio = 4; descripcionDescuento();"> ABRIL <br>
              <i class="fas fa-info-circle" style="color: rgb(255, 238, 7); cursor: pointer" placement="top"
                ngbTooltip="Presione este icono para ver el detalle del pago de beneficio."></i>
            </th>
            <th colspan="2" style="background: #138D75" (click)="mesBeneficio = 5; descripcionDescuento();"> MAYO <br>
              <i class="fas fa-info-circle" style="color: rgb(255, 238, 7); cursor: pointer" placement="top"
                ngbTooltip="Presione este icono para ver el detalle del pago de beneficio."></i>
            </th>
            <th colspan="2" style="background: #138D75" (click)="mesBeneficio = 6; descripcionDescuento();"> JUNIO <br>
              <i class="fas fa-info-circle" style="color: rgb(255, 238, 7); cursor: pointer" placement="top"
                ngbTooltip="Presione este icono para ver el detalle del pago de beneficio."></i>
            </th>
            <th colspan="2" style="background: #138D75" (click)="mesBeneficio = 7; descripcionDescuento();"> JULIO <br>
              <i class="fas fa-info-circle" style="color: rgb(255, 238, 7); cursor: pointer" placement="top"
                ngbTooltip="Presione este icono para ver el detalle del pago de beneficio."></i>
            </th>
            <th colspan="2" style="background: #138D75" (click)="mesBeneficio = 8; descripcionDescuento();"> AGOSTO <br>
              <i class="fas fa-info-circle" style="color: rgb(255, 238, 7); cursor: pointer" placement="top"
                ngbTooltip="Presione este icono para ver el detalle del pago de beneficio."></i>
            </th>
            <th colspan="2" style="background: #138D75" (click)="mesBeneficio = 9; descripcionDescuento();"> SEPTIEMBRE
              <br>
              <i class="fas fa-info-circle" style="color: rgb(255, 238, 7); cursor: pointer" placement="top"
                ngbTooltip="Presione este icono para ver el detalle del pago de beneficio."></i>
            </th>
            <th colspan="2" style="background: #138D75" (click)="mesBeneficio = 10; descripcionDescuento();"> OCTUBRE
              <br>
              <i class="fas fa-info-circle" style="color: rgb(255, 238, 7); cursor: pointer" placement="top"
                ngbTooltip="Presione este icono para ver el detalle del pago de beneficio."></i>
            </th>
            <th colspan="2" style="background: #138D75" (click)="mesBeneficio = 11; descripcionDescuento();"> NOVIEMBRE
              <br>
              <i class="fas fa-info-circle" style="color: rgb(255, 238, 7); cursor: pointer" placement="top"
                ngbTooltip="Presione este icono para ver el detalle del pago de beneficio."></i>
            </th>
            <th colspan="2" style="background: #138D75" (click)="mesBeneficio = 12; descripcionDescuento();"> DICIEMBRE
              <br>
              <i class="fas fa-info-circle" style="color: rgb(255, 238, 7); cursor: pointer" placement="top"
                ngbTooltip="Presione este icono para ver el detalle del pago de beneficio."></i>
            </th>
            <th colspan="1" rowspan="2" style="background: #138D75">
              <h6><i class="fas fa-plus mas"></i></h6>
              <br> TOTAL D.S.
            </th>
            <!-- <th colspan="1" rowspan="2" style="background: #138D75"> TOTAL D.S.D.</th> -->
            <th colspan="1" rowspan="2" style="background: #138D75">
              <h6><i class="fas fa-minus menos"></i></h6>
              <br> TOTAL P.B.
            </th>
            <th colspan="1" rowspan="2" style="background: #138D75">
              <h6><i class="fas fas fa-plus mas"></i></h6>
              <br> TOTAL A.S.
            </th>
            <th colspan="1" rowspan="2" style="background: #138D75">
              <h6><i class="fas fa-dollar-sign mas"></i></h6>
              <br> TOTAL ANUAL
            </th>
          </tr>

          <tr class="text-center">
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>
            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 1"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 2"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 3"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 4"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 5"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 6"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 7"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 8"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 9"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 10"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 11"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 12"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
          </tr>

          <!-- pago de socio beneficio -->
          <ng-template #modalPagoBeneficio let-c="close" let-d="dismiss">
            <div class="modal-header" id="demoFont">
              <h4 class="modal-title" id="modal-basic-title">Pago de Beneficio en el Mes {{this.mesBeneficio}}</h4>
              <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="form-group">

                <div class="col-12 col-md-12 col-lg-12">
                  <div class="row">

                    <div class="col-12 col-md-12 col-lg-12"><br><label><strong>DEFINICIONES</strong></label> <br>
                      <label>
                        <ngb-alert [dismissible]="false">
                          <b class="black">■</b> PARA RESTAURAR LOS CAMPOS PRESIONE EL BOTON <b
                            class="green2">LIMPIAR</b><br>
                          <b class="black">■</b> PARA GENERAR EL PAGO DE BENEFICIO PRESIONE EL BOTON <b
                            class="blue">GENERAR</b> <br>
                          <b class="black">■</b> PARA GUARDAR EL EL PAGO DE BENEFICIO AL SOCIO PRESIONE <b
                            class="green2">GUARDAR</b>
                        </ngb-alert>
                      </label>
                    </div>

                    <div class="col-12 col-md-12 col-lg-12">
                      <label><strong>SELECCIONE EL SOCIO A PAGAR EL BENEFICIO</strong></label>
                      <select [(ngModel)]="socio" class="form-control form-control-sm">
                        <option value="0">--Seleccione--</option>
                        <option *ngFor="let socio of socioPB" [value]="socio.id">{{socio.sin_pb}}</option>
                      </select>
                    </div>

                    <div class="col-12 col-md-4 col-lg-4">
                      <br><label><strong>SELECCIONE EL TIPO DE PAGO</strong></label>
                      <select [(ngModel)]="tipoPago" class="form-control form-control-sm">
                        <option value="2">Pago Beneficio</option>
                      </select>
                    </div>

                    <div class="col-12 col-md-4 col-lg-4">
                      <br><label><strong>SELECCIONE EL TIPO DE RETIRO DEL SOCIO</strong></label>
                      <select [(ngModel)]="tipoRetiro" class="form-control form-control-sm">
                        <option value="0">--Seleccione--</option>
                        <option value="Enfermedad">Enfermedad</option>
                        <option value="Jubilacion">Jubilacion</option>
                        <option value="Despido">Despido</option>
                        <option value="Fallecimiento">Fallecimiento</option>
                      </select>
                    </div>

                    <div class="col-12 col-md-4 col-lg-4">
                      <br><label><strong>SELECCIONE DESCUENTO A APLICAR</strong></label>
                      <select [(ngModel)]="tipoPorc" class="form-control form-control-sm">
                        <option value="1">100%</option>
                        <option value="0.90">90%</option>
                        <option value="0.75">75%</option>
                        <option value="0.60">60%</option>
                        <option value="0.50">50%</option>
                        <option value="0.40">40%</option>
                        <option value="0.30">30%</option>
                        <option value="0.25">25%</option>
                        <option value="0.20">20%</option>
                      </select>
                    </div>
                    <div class="col-6 col-md-6 col-lg-6">
                      <br><label><strong>MONTO TOTAL CALCULADO</strong></label>
                      <input value="{{montoBeneficio}}" #monto type="number" class="form-control form-control-sm"
                        disabled>
                    </div>
                    <div class="col-6 col-md-6 col-lg-6">
                      <br><label><strong><i class="fas fa-arrow-left"></i> INGRESE MONTO DEL BENEFICIO</strong></label>
                      <input #monto [(ngModel)]="montoFinal" type="number" class="form-control form-control-sm">
                    </div>
                  </div>
                </div>
              </div>

              <div class="modal-footer">
                <button type="button" class="btn btn-outline-danger" (click)="cerrarPagoBeneficio()">Salir </button>
                <button type="button" class="btn btn-outline-success" (click)="limpiarPagoBeneficio()">Limpiar </button>
                <button type="button" class="btn btn-info" [disabled]="blockLoad"
                  (click)="calcularPagoBeneficio(modalUsuario)">Generar
                  <img *ngIf="actualizarLoad" padding-left="20px" height="12"
                    src="https://thumbs.gfycat.com/UnitedSmartBinturong-max-1mb.gif">
                </button>
                <button type="button" class="btn btn-success" (click)="guardarSocioDesv(modalUsuario)"
                  [disabled]="socio == '0' || tipoRetiro == '0' || montoFinal == null || montoFinal == '0'">Guardar
                  <img *ngIf="actualizarLoad2" padding-left="20px" height="12"
                    src="https://thumbs.gfycat.com/UnitedSmartBinturong-max-1mb.gif">
                </button>
              </div>
            </div>
          </ng-template>

          <!-- modal para validar privilegios de usuario -->
          <ng-template #modalUsuario let-modal>
            <div class="modal-header" id="demoFont">
              <h6 class="modal-title"><i class="fas fa-calendar-alt"></i> <strong> Validar accion</strong></h6>
              <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <input #rut class="form-control form-control-sm" type="" name="" [value]="user.rut">
              <br>
              <input #password [(ngModel)]="pass" class="form-control form-control-sm" type="password"
                placeholder="Ingrese su contraseña" name="">
              <br>
              <button [disabled]="buttonStatus" class="btn btn-success btn-block btn-sm" #btn_click_validar
                (click)="modal.close('Save click')">
                Validar <img *ngIf="load" padding-left="20px" height="12"
                  src="https://thumbs.gfycat.com/UnitedSmartBinturong-max-1mb.gif">
              </button>
            </div>
          </ng-template>

        </thead>

        <tbody>

          <tr *ngFor="let item of socios" class="text-center">
            <!-- <td colspan="1">{{ item?.rut }}</td> -->
            <td colspan="4"
              [ngClass]="{'red': item?.vinculado == 'N' , 'black': item?.vinculado != 'N' , 'blue': item?.pb == 'S' }"
              class="text-left sociosNombre2" style="background: #F9E79F">
              {{ item?.nombre | uppercase}}
            </td>

            <td colspan="1" [ngClass]="{'green': item?.monto_mes_ds_1 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_ds_1  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'red': item?.monto_mes_ds_1 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_cex_1  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'green': item?.monto_mes_ds_2 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_ds_2  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'red': item?.monto_mes_ds_2 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_cex_2  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'green': item?.monto_mes_ds_3 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_ds_3  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'red': item?.monto_mes_ds_3 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_cex_3  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'green': item?.monto_mes_ds_4 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_ds_4  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'red': item?.monto_mes_ds_4 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_cex_4  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'green': item?.monto_mes_ds_5 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_ds_5  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'red': item?.monto_mes_ds_5 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_cex_5  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'green': item?.monto_mes_ds_6 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_ds_6  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'red': item?.monto_mes_ds_6 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_cex_6  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'green': item?.monto_mes_ds_7 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_ds_7  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'red': item?.monto_mes_ds_7 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_cex_7  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'green': item?.monto_mes_ds_8 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_ds_8  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'red': item?.monto_mes_ds_8 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_cex_8  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'green': item?.monto_mes_ds_9 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_ds_9  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'red': item?.monto_mes_ds_9 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_cex_9  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'green': item?.monto_mes_ds_10 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_ds_10  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'red' : item?.monto_mes_ds_10 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_cex_10  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'green': item?.monto_mes_ds_11 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_ds_11  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'red' : item?.monto_mes_ds_11 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_cex_11  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'green': item?.monto_mes_ds_12 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_ds_12  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" [ngClass]="{'red' : item?.monto_mes_ds_12 != '0' , 'blue': item?.pb == 'S'}">
              {{item?.monto_mes_cex_12  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>

            <td colspan="1" class="sociosNombre">
              <b>{{item?.monto_total_ds_socio  | currency:"CLP" : "symbol-narrow":'1.0'}}</b>
            </td>

            <td colspan="1" class="sociosNombre">
              <b>{{item?.monto_total_cex_socio  | currency:"CLP" : "symbol-narrow":'1.0'}}</b>
            </td>

            <td colspan="1" class="sociosNombre">
              <b>{{item?.acumulado_anterior_socio | currency:"CLP" : "symbol-narrow":'1.0'}}</b>
              <!-- <b *ngIf="item?.monto_total_menos_ds == null">─</b> -->
            </td>

            <td colspan="1" class="sociosNombre">
              <b>{{item?.monto_total_socio  | currency:"CLP" : "symbol-narrow":'1.0'}}</b>
            </td>
          </tr>

          <tr class="text-center">
            <th colspan="28" class="text-right">TOTAL ANUAL</th>
            <td colspan="1" class="sociosNombre black">
              <b>{{sociosAnual?.monto_total_ds_socio | currency:"CLP" : "symbol-narrow":'1.0'}}</b>
            </td>
            <td colspan="1" class="sociosNombre black">
              <b>{{sociosAnual?.monto_total_cex_socio | currency:"CLP" : "symbol-narrow":'1.0'}}</b>
            </td>
            <td colspan="1" class="sociosNombre black">
              <b>{{sociosAnual?.acumulado_anterior_socio | currency:"CLP" : "symbol-narrow":'1.0'}}</b>
            </td>
            <td colspan="1" class="sociosNombre black">
              <b>{{sociosAnual?.monto_total_socio | currency:"CLP" : "symbol-narrow":'1.0'}}</b>
            </td>
          </tr>

        </tbody>

      </table>
    </div>

    <div class="table-responsive">
      <table class="table table-striped table-bordered table-sm">
        <thead>
          <tr class="text-center" style="background: #138D75">
            <th colspan="4" rowspan="2">
              <h5>
                <i class="fas fa-dollar-sign mas"></i>
              </h5>
            </th>
            <th colspan="2"> ENERO </th>
            <th colspan="2"> FEBRERO </th>
            <th colspan="2"> MARZO </th>
            <th colspan="2"> ABRIL </th>
            <th colspan="2"> MAYO </th>
            <th colspan="2"> JUNIO </th>
            <th colspan="2"> JULIO </th>
            <th colspan="2"> AGOSTO </th>
            <th colspan="2"> SEPT</th>
            <th colspan="2"> OCTUBRE </th>
            <th colspan="2"> NOV</th>
            <th colspan="2"> DIC </th>
            <th colspan="4" rowspan="2">
              <h5>
                <i class="fas fa-dollar-sign mas"></i>
              </h5>
            </th>
          </tr>

          <tr class="text-center">
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>
            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 1"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 2"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 3"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 4"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 5"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 6"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 7"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 8"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 9"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 10"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 11"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
            <th colspan="1" style="background: #138D75"> D.S. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Recuerde tener los dias de sueldo al dia para poder generar el cobro de beneficio."></i>
            </th>

            <th colspan="1" (click)="openPagoBeneficio(modalPagoBeneficio); mesBeneficio = 12"
              style="background: #138D75; cursor: pointer"> P.B. <br>
              <i class="fas fa-info-circle" style="color: black" placement="top"
                ngbTooltip="Seleccione aqui para realizar el pago de beneficio a un socio desvinculado."></i>
            </th>
          </tr>

        </thead>
        <tbody>
          <tr class="text-center">
            <th colspan="4" rowspan="3" style="background: #138D75"><br> TOTAL MENSUAL</th>
            <td colspan="1" class="totalVertical">
              {{sociosMensual?.monto_mes_ds_1 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical red2">
              {{sociosMensual?.monto_mes_cex_1 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical">
              {{sociosMensual?.monto_mes_ds_2 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical red2">
              {{sociosMensual?.monto_mes_cex_2 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical">
              {{sociosMensual?.monto_mes_ds_3 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical red2">
              {{sociosMensual?.monto_mes_cex_3 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical">
              {{sociosMensual?.monto_mes_ds_4 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical red2">
              {{sociosMensual?.monto_mes_cex_4 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical">
              {{sociosMensual?.monto_mes_ds_5 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical red2">
              {{sociosMensual?.monto_mes_cex_5 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical">
              {{sociosMensual?.monto_mes_ds_6 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical red2">
              {{sociosMensual?.monto_mes_cex_6 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical">
              {{sociosMensual?.monto_mes_ds_7 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical red2">
              {{sociosMensual?.monto_mes_cex_7 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical">
              {{sociosMensual?.monto_mes_ds_8 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical red2">
              {{sociosMensual?.monto_mes_cex_8 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical">
              {{sociosMensual?.monto_mes_ds_9 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical red2">
              {{sociosMensual?.monto_mes_cex_9 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical">
              {{sociosMensual?.monto_mes_ds_10 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical red2">
              {{sociosMensual?.monto_mes_cex_10 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical">
              {{sociosMensual?.monto_mes_ds_11 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical red2">
              {{sociosMensual?.monto_mes_cex_11 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical">
              {{sociosMensual?.monto_mes_ds_12 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <td colspan="1" class="totalVertical red2">
              {{sociosMensual?.monto_mes_cex_12 | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
            <th colspan="2" rowspan="2">TOTAL ACUMULADO</th>
            <th colspan="2" rowspan="2">TOTAL ANUAL</th>
          </tr>

          <tr class="text-center" style="background: #138D75">
            <th colspan="2"> D.S. <i class="fas fa-minus menos"></i> P.B.</th>
            <th colspan="2"> D.S. <i class="fas fa-minus menos"></i> P.B.</th>
            <th colspan="2"> D.S. <i class="fas fa-minus menos"></i> P.B.</th>
            <th colspan="2"> D.S. <i class="fas fa-minus menos"></i> P.B.</th>
            <th colspan="2"> D.S. <i class="fas fa-minus menos"></i> P.B.</th>
            <th colspan="2"> D.S. <i class="fas fa-minus menos"></i> P.B.</th>
            <th colspan="2"> D.S. <i class="fas fa-minus menos"></i> P.B.</th>
            <th colspan="2"> D.S. <i class="fas fa-minus menos"></i> P.B.</th>
            <th colspan="2"> D.S. <i class="fas fa-minus menos"></i> P.B.</th>
            <th colspan="2"> D.S. <i class="fas fa-minus menos"></i> P.B.</th>
            <th colspan="2"> D.S. <i class="fas fa-minus menos"></i> P.B.</th>
            <th colspan="2"> D.S. <i class="fas fa-minus menos"></i> P.B.</th>
          </tr>

          <tr class="text-center totalVertical black">
            <td colspan="2">
              {{ConvertToInt(sociosMensual?.monto_mes_ds_1) - 
                ConvertToInt(sociosMensual?.monto_mes_cex_1)  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>
            <td colspan="2">
              {{ConvertToInt(sociosMensual?.monto_mes_ds_2) - 
                ConvertToInt(sociosMensual?.monto_mes_cex_2)  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>
            <td colspan="2">
              {{ConvertToInt(sociosMensual?.monto_mes_ds_3) - 
                ConvertToInt(sociosMensual?.monto_mes_cex_3)  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>
            <td colspan="2">
              {{ConvertToInt(sociosMensual?.monto_mes_ds_4) - 
                ConvertToInt(sociosMensual?.monto_mes_cex_4)  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>
            <td colspan="2">
              {{ConvertToInt(sociosMensual?.monto_mes_ds_5) - 
                ConvertToInt(sociosMensual?.monto_mes_cex_5)  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>
            <td colspan="2">
              {{ConvertToInt(sociosMensual?.monto_mes_ds_6) - 
                ConvertToInt(sociosMensual?.monto_mes_cex_6)  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>
            <td colspan="2">
              {{ConvertToInt(sociosMensual?.monto_mes_ds_7) - 
                ConvertToInt(sociosMensual?.monto_mes_cex_7)  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>
            <td colspan="2">
              {{ConvertToInt(sociosMensual?.monto_mes_ds_8) - 
                ConvertToInt(sociosMensual?.monto_mes_cex_8)  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>
            <td colspan="2">
              {{ConvertToInt(sociosMensual?.monto_mes_ds_9) - 
                ConvertToInt(sociosMensual?.monto_mes_cex_9)  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>
            <td colspan="2">
              {{ConvertToInt(sociosMensual?.monto_mes_ds_10) - 
                ConvertToInt(sociosMensual?.monto_mes_cex_10)  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>
            <td colspan="2">
              {{ConvertToInt(sociosMensual?.monto_mes_ds_11) - 
                ConvertToInt(sociosMensual?.monto_mes_cex_11)  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>
            <td colspan="2">
              {{ConvertToInt(sociosMensual?.monto_mes_ds_12) - 
                ConvertToInt(sociosMensual?.monto_mes_cex_12)  | currency:"CLP" : "symbol-narrow":'1.0'}}
            </td>
            <td colspan="2"><b>{{sociosMensual?.acumulado_anterior_socio | currency:"CLP" : "symbol-narrow":'1.0'}}</b></td>
            <td colspan="2"><b>{{sociosMensual?.suma_anual | currency:"CLP" : "symbol-narrow":'1.0'}}</b></td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
</div>