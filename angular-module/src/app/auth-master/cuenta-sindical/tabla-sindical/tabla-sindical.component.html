 <!--Modal para el inicio y cierre mensual-->
 <ng-template #TablaSindical let-modal>
    <form>
      <div class="modal-header sticky-top" id="demoFont">
        <h6 class="modal-title"><strong><i class="fas fa-table"></i>  Tabla Sindical</strong></h6>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
       <!--Cuerpo del body inicio y cierre mensual-->
       <div class="modal-body">

        <div class="row">
          <div class="col-sm-6 col-md-3 col-lg-3"><br><label>
            <strong>Filtro por Año  </strong>
            <i class="fas fa-calendar-check"></i>
          </label>
            <select (change)="changeAnio($event)" name="anio" #anio="ngModel" [(ngModel)]="valorAnio.descripcion" class="form-control form-control-sm">
              <option *ngFor="let anio of selectAnio" [value]="anio.id">{{anio.descripcion}}</option>
            </select>
          </div>
        
          <div class="col-sm-6 col-md-3 col-lg-3"><br><label>
            <strong>Filtro por Mes  </strong>
            <i class="fas fa-calendar-check"></i>
          </label>
            <select (change)="changeMes($event)" name="mes" #mes="ngModel" [(ngModel)]="valorMes.descripcion" class="form-control form-control-sm">
              <option *ngFor="let mes of selectMes" [value]="mes.id">{{mes.descripcion}}</option>
            </select>
          </div>
        </div><br>

        <div class="table-responsive">
          <table class="table table-striped table-bordered table-sm">
              <thead text-sm>
                <!--Titulo Tabla-->  
                <tr>
                  <th colspan="14" class=" text-center"  id="demoFont"><h6>Movimiento mensual</h6></th>
                </tr>
                <!--Cuenta Sindical-->
                <tr class="text-center">
                    <th colspan="11" style="background: #138D75">Cuenta Sindical</th>
                    <th style="background: #229954; color:#FDFEFE">Cierre Mensual Acumulado</th>
                </tr>
                <!--Fijos-->
                <tr class="text-center">  
                  <th colspan="3" style="background: #138D75"><i class="far fa-calendar-alt"></i> Fecha</th>
                  <th style="background: #138D75">N° Doc</th>
                  <th style="background: #138D75"><i class="far fa-file-pdf"></i> PDF</th>
                  <!--fijos-->
                  <th colspan="4" style="background: #138D75;color:#FDFEFE"><i class="fas fa-file-signature"></i> Ingresos y Egresos Fijos</th>
                  <th style="background: #138D75"><i class="fas fa-plus-circle"></i> Ingresos</th>
                  <th style="background: #138D75"><i class="fas fa-minus-circle"></i> Egresos</th>
                  <!--cuenta del cierre del mes actual-->
                  <td class="text-center"><strong>{{ get_numero | currency:"CLP" : "symbol-narrow":'1.0'}}</strong></td>                
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let itemFijo of fijos">
                  <td colspan="3" class="text-center" (click)="openActualizar(fechaFijoModal)">
                    {{itemFijo.fecha}}
                    <ng-template #fechaFijoModal let-c="closeFecha" let-d="dismiss">
                        <div class="modal-header" id="demoFont">
                          <h4 class="modal-title" id="modal-basic-title">Fecha</h4>
                          <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">

                          <label><strong>Fecha Actual</strong> <input type="text" class="form-control form-control-sm" value="{{itemFijo.fecha}}" disabled></label>
                          <label> <strong>Nueva Fecha</strong> <input class="form-control form-control-sm" #fechaFijo type="date"></label>

                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                          <button type="button" class="btn btn-outline-success" (click)="actualizar(itemFijo.id,'fecha',fechaFijo)">Guardar</button>
                        </div>
                    </ng-template> 
                      

                  </td>
                  <td class="text-center" (click)="openActualizar(numeroDocFijoModal)">
                    {{itemFijo.numero_documento}}
                    <ng-template #numeroDocFijoModal let-c="close" let-d="dismiss">
                        <div class="modal-header" id="demoFont">
                          <h4 class="modal-title" id="modal-basic-title">Numero Documento</h4>
                          <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                          <div class="form-group">
                              <label><strong>N° Documento Actual</strong></label> 
                              <input type="text" class="form-control form-control-sm" value="{{itemFijo.numero_documento}}" disabled>
                          </div>
                          <div class="form-group">
                              <label> <strong>Nuevo N° Documento</strong></label> 
                              <input class="form-control form-control-sm" #numeroDocFijo type="text">
                          </div>
                        </div>

                    <div class="modal-footer">
                      <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                      <button type="button" class="btn btn-outline-success" (click)="actualizar(itemFijo.id,'numero_documento',numeroDocFijo)">Guardar</button>
                    </div>
                    </ng-template> 
                  </td>

<<<<<<< HEAD
                  <td class="text-center" (click)="openActualizar(DocFijoModal)">
                    <a href="{{  '../' + itemFijo.archivo_documento}}" target="_blank"><i class="far fa-file-alt"></i></a>
                    <ng-template #DocFijoModal let-c="close" let-d="dismiss">
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Documento PDF</h4>
                          <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                          <input 
                          #DocFijo
                          type="file"
                          (change)="onSelectImage($event)">
                          
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark" (click)="actualizar(itemFijo.id,'archivo',DocFijo)">Guardar</button>
                        </div>
                    </ng-template>
=======
                  <td class="text-center">
                      <a href="{{  '../storage/' + itemFijo.archivo_documento}}" target="_blank" class="btn-primary-outline">
                        <i class="far fa-file-alt" placement="top" ngbTooltip="Presione aqui visualizar documento PDF"></i>
                      </a>&nbsp;
                      <a class="btn-primary-outline" style="cursor: pointer" (click)="openActualizar(DocFijoModal)">
                        <ng-template #DocFijoModal let-c="close" let-d="dismiss">
                            <div class="modal-header" id="demoFont">
                              <h4 class="modal-title" id="modal-basic-title">Documento PDF</h4>
                              <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                <span aria-hidden="true">&times;</span>
                              </button>
                            </div>
                            <div class="modal-body">

                              <div class="form-group">
                                  <label> <strong>Reemplazar Documento Actual  </strong></label><i class="far fa-file-pdf"></i>
                                  <input class="form-control-file form-control-file-sm" #DocFijo type="file" (change)="onSelectImage($event)">
                              </div>

                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                              <button type="button" class="btn btn-outline-success" (click)="actualizar(itemFijo.id,'archivo',DocFijo)">Guardar</button>
                            </div>
                        </ng-template>
                        <i class="far fa-copy" placement="top" ngbTooltip="Presione aqui para modificar documento PDF"></i>
                      </a>
>>>>>>> david
                  </td>

                  <td colspan="4" (click)="openActualizar(descripcionFijoModal)">
                    {{itemFijo.descripcion}}
                    <ng-template #descripcionFijoModal let-c="close" let-d="dismiss">
                        <div class="modal-header" id="demoFont">
                          <h4 class="modal-title" id="modal-basic-title">Descripcion</h4>
                          <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">

                            <div class="form-group">
                                <label><strong>Descripcion Actual</strong></label> 
                                <input type="text" class="form-control form-control-sm" value="{{itemFijo.descripcion}}" disabled>
                            </div>
                           <div class="form-group">
                              <label> <strong>Nueva Descripcion</strong></label> 
                              <input class="form-control form-control-sm" #descripcionFijo type="text">
                           </div>

                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                          <button type="button" class="btn btn-outline-success" (click)="actualizar(itemFijo.id,'descripcion',descripcionFijo)">Guardar</button>
                        </div>
                    </ng-template> 
                  </td>

                  <td class="text-center" (click)="openActualizar(montoFijoModal)">
                      {{ itemFijo.monto_ingreso | currency:"CLP" : "symbol-narrow":'1.0'}}
                      <ng-template #montoFijoModal let-c="close" let-d="dismiss">
                          <div class="modal-header" id="demoFont">
                            <h4 class="modal-title" id="modal-basic-title">Ingreso y Egreso</h4>
                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body">
                            <div class="form-group">
                              <label><strong>Seleccione Nuevo Tipo</strong></label>
                              <select #definicionFijo class="form-control form-control-sm">
                                <option value="">Seleccione</option>
                                <option *ngFor="let tipo of selectDefinicion" [value]="tipo.id">{{tipo.descripcion}}</option>
                              </select>
                            </div>
  
                            <div class="modal-footer">
                              <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                              <button type="button" class="btn btn-outline-success" (click)="actualizar(itemFijo.id,'definicion',definicionFijo)">Guardar</button>
                            </div> <hr>
  
                            <div class="form-group">
                                <label><strong>Monto Actual</strong></label> 
                                <input type="text" class="form-control form-control-sm" value="{{itemFijo.monto_ingreso}} {{itemFijo.monto_egreso}}" disabled>
                            </div>
                           <div class="form-group">
                              <label> <strong>Nuevo Monto</strong></label> 
                              <input class="form-control form-control-sm" #montoFijo type="text">
                           </div>
  
                            <div class="modal-footer">
                                <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                                <button type="button" class="btn btn-outline-success" (click)="actualizar(itemFijo.id,'monto',montoFijo)">Guardar</button>
                            </div>
  
                          </div>
                      </ng-template> 
                    </td>
  

                  <td class="text-center" (click)="openActualizar(montoFijoModal)">
                    {{ itemFijo.monto_egreso | currency:"CLP" : "symbol-narrow":'1.0'}}
                  </td>
                  <!--acumulado cierre del mes actual-->
                  <td class="text-center">
                    {{ itemFijo.saldo_actual_raw | currency:"CLP" : "symbol-narrow":'1.0'}}
                  </td>
                </tr>

                <!--variables-->
                <tr class="text-center">
                  <th colspan="3" style="background: #138D75"><i class="far fa-calendar-alt"></i> Fecha</th>
                  <th style="background: #138D75">N° Doc</th>
                  <th style="background: #138D75"><i class="far fa-file-pdf"></i> PDF</th>
                  <th colspan="4" style="background: #138D75;color:#FDFEFE"><i class="fas fa-file-signature"></i>  Ingresos y Egresos Variables</th>
                  <th style="background: #138D75"><i class="fas fa-plus-circle"></i> Ingresos</th>
                  <th style="background: #138D75"><i class="fas fa-minus-circle"></i> Egresos</th>
                  <td></td>
                </tr>

                <tr *ngFor="let itemVariable of variable"> 
                    <td colspan="3" class="text-center" (click)="openActualizar(fechaVariableModal)">
                      {{itemVariable.fecha}}
                      <ng-template #fechaVariableModal let-c="close" let-d="dismiss">
                          <div class="modal-header" id="demoFont">
                            <h4 class="modal-title" id="modal-basic-title">Fecha</h4>
                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>

                          <div class="modal-body">

                              <label><strong>Fecha Actual</strong> <input type="text" class="form-control form-control-sm" value="{{itemVariable.fecha}}" disabled></label>
                              <label> <strong>Nueva Fecha</strong> <input class="form-control form-control-sm" #fechaVariable type="date"></label>
    
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                              <button type="button" class="btn btn-outline-success" (click)="actualizar(itemVariable.id,'fecha',fechaVariable)">Guardar</button>
                            </div>

                      </ng-template> 
                    </td>

                    <td scope="col" class="text-center" (click)="openActualizar(numeroDocVariableModal)">
                      {{itemVariable.numero_documento}}
                      <ng-template #numeroDocVariableModal let-c="close" let-d="dismiss">
                          <div class="modal-header" id="demoFont">
                            <h4 class="modal-title" id="modal-basic-title">Numero Documento</h4>
                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body">
                              <div class="form-group">
                                  <label><strong>N° Documento Actual</strong></label> 
                                  <input type="text" class="form-control form-control-sm" value="{{itemVariable.numero_documento}}" disabled>
                              </div>
                              <div class="form-group">
                                  <label> <strong>Nuevo N° Documento</strong></label> 
                                  <input class="form-control form-control-sm" #numeroDocVariable type="text">
                              </div>
                            </div>
    
                        <div class="modal-footer">
                          <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                          <button type="button" class="btn btn-outline-success" (click)="actualizar(itemVariable.id,'numero_documento',numeroDocVariable)">Guardar</button>
                        </div>
                      </ng-template> 
                    </td>

<<<<<<< HEAD
                    <td scope="col" class="text-center" (click)="openActualizar(DocVariableModal)">
                      <a href="{{  '../' +  itemVariable.archivo_documento}}" target="_blank"><i class="far fa-file-alt"></i></a>
                      <ng-template #DocVariableModal let-c="close" let-d="dismiss">
                          <div class="modal-header">
                            <h4 class="modal-title" id="modal-basic-title">Documento PDF</h4>
                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body">
                            <input 
                            #DocVariable
                            type="file"
                            (change)="onSelectImage($event)">  
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-outline-dark" (click)="actualizar(itemVariable.id,'archivo',DocVariable)">Guardar</button>
                          </div>
                      </ng-template>
=======
                    <td class="text-center">
                        <a href="{{  '../storage/' + itemVariable.archivo_documento}}" target="_blank" class="btn-primary-outline">
                          <i class="far fa-file-alt" placement="top" ngbTooltip="Presione aqui visualizar documento PDF"></i>
                        </a>&nbsp;
                        <a class="btn-primary-outline" style="cursor: pointer" (click)="openActualizar(DocVariableModal)">
                          <ng-template #DocVariableModal let-c="close" let-d="dismiss">
                              <div class="modal-header" id="demoFont">
                                <h4 class="modal-title" id="modal-basic-title">Documento PDF</h4>
                                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                  <span aria-hidden="true">&times;</span>
                                </button>
                              </div>
                              <div class="modal-body">
  
                                <div class="form-group">
                                    <label> <strong>Reemplazar Documento Actual  </strong></label><i class="far fa-file-pdf"></i>
                                    <input class="form-control-file form-control-file-sm" #DocVariable type="file" (change)="onSelectImage($event)">
                                </div>
  
                              </div>
                              <div class="modal-footer">
                                <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                                <button type="button" class="btn btn-outline-success" (click)="actualizar(itemVariable.id,'archivo',DocVariable)">Guardar</button>
                              </div>
                          </ng-template>
                          <i class="far fa-copy" placement="top" ngbTooltip="Presione aqui para modificar documento PDF"></i>
                        </a>
>>>>>>> david
                    </td>

                    <td scope="col" colspan="4" (click)="openActualizar(descripcionVariableModal)">
                      {{itemVariable.descripcion}}
                      <ng-template #descripcionVariableModal let-c="close" let-d="dismiss">
                          <div class="modal-header">
                            <h4 class="modal-title" id="modal-basic-title">Descripcion</h4>
                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body">

                              <div class="form-group">
                                  <label><strong>Descripcion Actual</strong></label> 
                                  <input type="text" class="form-control form-control-sm" value="{{itemVariable.descripcion}}" disabled>
                              </div>
                             <div class="form-group">
                                <label> <strong>Nueva Descripcion</strong></label> 
                                <input class="form-control form-control-sm" #descripcionVariable type="text">
                             </div>
  
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                            <button type="button" class="btn btn-outline-success" (click)="actualizar(itemVariable.id,'descripcion',descripcionVariable)">Guardar</button>
                          </div>
                      </ng-template> 
                    </td>

                    <td scope="col" class="text-center" (click)="openActualizar(montoVariableModal)">
                      {{ itemVariable.monto_ingreso | currency:"CLP" : "symbol-narrow":'1.0'}}
                      <ng-template #montoVariableModal let-c="close" let-d="dismiss">
                          <div class="modal-header" id="demoFont">
                            <h4 class="modal-title" id="modal-basic-title">Ingreso y Egreso</h4>
                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body">
                              <div class="form-group">
                                <label><strong>Seleccione Nuevo Tipo</strong></label>
                                <select #definicionVariable class="form-control form-control-sm">
                                  <option value="">Seleccione</option>
                                  <option *ngFor="let tipo of selectDefinicion" [value]="tipo.id">{{tipo.descripcion}}</option>
                                </select>
                              </div>
    
                              <div class="modal-footer">
                                <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                                <button type="button" class="btn btn-outline-success" (click)="actualizar(itemVariable.id,'definicion',definicionVariable)">Guardar</button>
                              </div> <hr>
    
                              <div class="form-group">
                                  <label><strong>Monto Actual</strong></label> 
                                  <input type="text" class="form-control form-control-sm" value="{{itemVariable.monto_ingreso}} {{itemVariable.monto_egreso}}" disabled>
                              </div>
                             <div class="form-group">
                                <label> <strong>Nuevo Monto</strong></label> 
                                <input class="form-control form-control-sm" #montoVariable type="text">
                             </div>
    
                              <div class="modal-footer">
                                  <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                                  <button type="button" class="btn btn-outline-success" (click)="actualizar(itemVariable.id,'monto',montoVariable)">Guardar</button>
                              </div>
    
                            </div>

                      </ng-template> 
                    </td>

                    <td scope="col" class="text-center" (click)="openActualizar(montoVariableModal)">
                      {{ itemVariable.monto_egreso | currency:"CLP" : "symbol-narrow":'1.0'}}
                    </td>
                    <!--acumulado cierre del mes actual-->
                    <td scope="col" class="text-center">{{ itemVariable.saldo_actual_raw | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
                </tr>

                <!--caja chica-->
                <tr class="text-center">
                    <th colspan="3" style="background: #138D75"><i class="far fa-calendar-alt"></i> Fecha</th>
                    <th style="background: #138D75">N° Doc</th>
                    <th style="background: #138D75"><i class="far fa-file-pdf"></i> PDF</th>
                    <th colspan="4" style="background: #138D75;color:#FDFEFE"><i class="fas fa-file-signature"></i>  Detalle Caja Chica</th>
                    <th style="background: #138D75"><i class="fas fa-plus-circle"></i> Ingresos</th>
                    <th style="background: #138D75"><i class="fas fa-minus-circle"></i> Egresos</th>
                    <td></td>
                </tr>
  
                <tr *ngFor="let itemCajaChica of cajaChica">
                    <td colspan="3" class="text-center" (click)="openActualizar(fechaCajaModal)">
                      {{itemCajaChica.fecha}}
                      <ng-template #fechaCajaModal let-c="close" let-d="dismiss">
                          <div class="modal-header" id="demoFont">
                            <h4 class="modal-title" id="modal-basic-title">Fecha</h4>
                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>                         
                          <div class="modal-body">

                              <label><strong>Fecha Actual</strong> <input type="text" class="form-control form-control-sm" value="{{itemCajaChica.fecha}}" disabled></label>
                              <label> <strong>Nueva Fecha</strong> <input class="form-control form-control-sm" #fechaCaja type="date"></label>
    
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                              <button type="button" class="btn btn-outline-success" (click)="actualizar(itemCajaChica.id,'fecha',fechaCaja)">Guardar</button>
                            </div>
                      </ng-template> 
                    </td>

                    <td scope="col" class="text-center" (click)="openActualizar(numeroDocCajaModal)">
                      {{itemCajaChica.numero_documento}}
                      <ng-template #numeroDocCajaModal let-c="close" let-d="dismiss">
                          <div class="modal-header" id="demoFont">
                            <h4 class="modal-title" id="modal-basic-title">Numero Documento</h4>
                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>

                          <div class="modal-body">
                              <div class="form-group">
                                  <label><strong>N° Documento Actual</strong></label> 
                                  <input type="text" class="form-control form-control-sm" value="{{itemCajaChica.numero_documento}}" disabled>
                              </div>
                              <div class="form-group">
                                  <label> <strong>Nuevo N° Documento</strong></label> 
                                  <input class="form-control form-control-sm" #numeroDocCaja  type="text">
                              </div>
                            </div>
    
                        <div class="modal-footer">
                          <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                          <button type="button" class="btn btn-outline-success" (click)="actualizar(itemCajaChica.id,'numero_documento',numeroDocCaja)">Guardar</button>
                        </div>

                      </ng-template> 
                    </td>
<<<<<<< HEAD
                    <td scope="col" class="text-center" (click)="openActualizar(DocCajaChicaModal)">
                        <a href="{{  '../' +  itemCajaChica.archivo_documento}}" target="_blank"><i class="far fa-file-alt"></i></a>
                        <ng-template #DocCajaChicaModal let-c="close" let-d="dismiss">
                            <div class="modal-header">
                              <h4 class="modal-title" id="modal-basic-title">Documento PDF</h4>
                              <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                <span aria-hidden="true">&times;</span>
                              </button>
                            </div>
                            <div class="modal-body">
                              <input 
                              #DocCajaChica
                              type="file"
                              (change)="onSelectImage($event)">  
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-outline-dark" (click)="actualizar(itemCajaChica.id,'archivo',DocCajaChica)">Guardar</button>
                            </div>
                        </ng-template>
=======

                    <td class="text-center">
                        <a href="{{  '../storage/' + itemCajaChica.archivo_documento}}" target="_blank" class="btn-primary-outline">
                          <i class="far fa-file-alt" placement="top" ngbTooltip="Presione aqui visualizar documento PDF"></i>
                        </a>&nbsp;
                        <a class="btn-primary-outline" style="cursor: pointer" (click)="openActualizar(DocCajaChicaModal)">
                          <ng-template #DocCajaChicaModal let-c="close" let-d="dismiss">
                              <div class="modal-header" id="demoFont">
                                <h4 class="modal-title" id="modal-basic-title">Documento PDF</h4>
                                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                  <span aria-hidden="true">&times;</span>
                                </button>
                              </div>
                              <div class="modal-body">
  
                                <div class="form-group">
                                    <label> <strong>Reemplazar Documento Actual  </strong></label><i class="far fa-file-pdf"></i>
                                    <input class="form-control-file form-control-file-sm" #DocCajaChica type="file" (change)="onSelectImage($event)">
                                </div>
  
                              </div>
                              <div class="modal-footer">
                                <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                                <button type="button" class="btn btn-outline-success" (click)="actualizar(itemCajaChica.id,'archivo',DocCajaChica)">Guardar</button>
                              </div>
                          </ng-template>
                          <i class="far fa-copy" placement="top" ngbTooltip="Presione aqui para modificar documento PDF"></i>
                        </a>
>>>>>>> david
                    </td>

                    <td scope="col" colspan="4" (click)="openActualizar(descripcionCajaModal)">
                      {{itemCajaChica.descripcion}}
                      <ng-template #descripcionCajaModal let-c="close" let-d="dismiss">
                          <div class="modal-header" id="demoFont">
                            <h4 class="modal-title" id="modal-basic-title">Descripcion</h4>
                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>

                          <div class="modal-body">

                              <div class="form-group">
                                  <label><strong>Descripcion Actual</strong></label> 
                                  <input type="text" class="form-control form-control-sm" value="{{itemCajaChica.descripcion}}" disabled>
                              </div>
                             <div class="form-group">
                                <label> <strong>Nueva Descripcion</strong></label> 
                                <input class="form-control form-control-sm" #descripcionCaja type="text">
                             </div>
  
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                            <button type="button" class="btn btn-outline-success" (click)="actualizar(itemCajaChica.id,'descripcion',descripcionCaja)">Guardar</button>
                          </div>

                      </ng-template> 
                    </td>
                    
                    <td scope="col" class="text-center">{{ itemCajaChica.monto_ingreso | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
                    <td scope="col" class="text-center">{{ itemCajaChica.monto_egreso | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
                    <!--acumulado cierre del mes actual-->
                    <td scope="col" class="text-center">{{ itemCajaChica.saldo_actual_raw | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
                </tr>

                <!--Prestamos-->
                <tr class="text-center">
                    <th colspan="3" style="background: #138D75"><i class="far fa-calendar-alt"></i> Fecha</th>
                    <th style="background: #138D75">N° Doc</th>
                    <th style="background: #138D75"><i class="far fa-file-pdf"></i> PDF</th>
                    <th colspan="4" style="background: #138D75;color:#FDFEFE"><i class="fas fa-file-signature"></i>  Prestamos Ingresos y Egresos</th>
                    <th style="background: #138D75"><i class="fas fa-plus-circle"></i> Ingresos</th>
                    <th style="background: #138D75"><i class="fas fa-minus-circle"></i> Egresos</th>
                    <td></td>
                </tr>
  
                <tr *ngFor="let itemPrestamo of prestamo">
                    <td colspan="3" class="text-center">{{itemPrestamo.fecha}}</td>
                    <td scope="col" class="text-center">{{itemPrestamo.numero_documento}}</td>
                    <td scope="col" class="text-center">
                        <a href="{{  '../' + itemPrestamo.archivo_documento}}" target="_blank"><i class="far fa-file-alt"></i></a>
                    </td>
                    <td scope="col" colspan="4">{{itemPrestamo.descripcion}}</td>
                    <td scope="col" class="text-center">{{ itemPrestamo.monto_ingreso | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
                    <td scope="col" class="text-center">{{ itemPrestamo.monto_egreso | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
                    <!--acumulado cierre del mes actual-->
                    <td scope="col" class="text-center">{{ itemPrestamo.saldo_actual_raw | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
                </tr>

                <!--comite camping-->
                <tr class="text-center">
                    <th colspan="3" style="background: #138D75"><i class="far fa-calendar-alt"></i> Fecha</th>
                    <th style="background: #138D75">N° Doc</th>
                    <th style="background: #138D75"><i class="far fa-file-pdf"></i> PDF</th>
                    <th colspan="4" style="background: #138D75;color:#FDFEFE"><i class="fas fa-file-signature"></i>  Comite Camping</th>
                    <th style="background: #138D75"><i class="fas fa-plus-circle"></i> Ingresos</th>
                    <th style="background: #138D75"><i class="fas fa-minus-circle"></i> Egresos</th>
                    <td></td>
                </tr>
  
                <tr *ngFor="let itemCamping of camping">
                    <td colspan="3" class="text-center" (click)="openActualizar(fechaCampingModal)">
                      {{itemCamping.fecha}}
                      <ng-template #fechaCampingModal let-c="close" let-d="dismiss">
                          <div class="modal-header" id="demoFont" >
                            <h4 class="modal-title" id="modal-basic-title">Fecha</h4>
                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body">

                              <label><strong>Fecha Actual</strong> <input type="text" class="form-control form-control-sm" value="{{itemCamping.fecha}}" disabled></label>
                              <label> <strong>Nueva Fecha</strong> <input class="form-control form-control-sm" #fechaCamping type="date"></label>
    
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                              <button type="button" class="btn btn-outline-success" (click)="actualizar(itemCamping.id,'fecha',fechaCamping)">Guardar</button>
                            </div>

                      </ng-template> 
                    </td>

                    <td scope="col" class="text-center" (click)="openActualizar(numeroDocCampingModal)">
                      {{itemCamping.numero_documento}}
                      <ng-template #numeroDocCampingModal let-c="close" let-d="dismiss">
                          <div class="modal-header" id="demoFont">
                            <h4 class="modal-title" id="modal-basic-title">Numero Documento</h4>
                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body">
                              <div class="form-group">
                                  <label><strong>N° Documento Actual</strong></label> 
                                  <input type="text" class="form-control form-control-sm" value="{{itemCamping.numero_documento}}" disabled>
                              </div>
                              <div class="form-group">
                                  <label> <strong>Nuevo N° Documento</strong></label> 
                                  <input class="form-control form-control-sm" #numeroDocCamping type="text">
                              </div>
                            </div>
    
                        <div class="modal-footer">
                          <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                          <button type="button" class="btn btn-outline-success" (click)="actualizar(itemCamping.id,'numero_documento',numeroDocCamping)">Guardar</button>
                        </div>
                      </ng-template> 
                    </td>

<<<<<<< HEAD
                    <td scope="col" class="text-center" (click)="openActualizar(DocCampingModal)">
                        <a href="{{  '../' + itemCamping.archivo_documento}}" target="_blank"><i class="far fa-file-alt"></i></a>
                        <ng-template #DocCampingModal let-c="close" let-d="dismiss">
                            <div class="modal-header">
                              <h4 class="modal-title" id="modal-basic-title">Documento PDF</h4>
                              <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                <span aria-hidden="true">&times;</span>
                              </button>
                            </div>
                            <div class="modal-body">
                              <input 
                              #DocCamping
                              type="file"
                              (change)="onSelectImage($event)">  
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-outline-dark" (click)="actualizar(itemCamping.id,'archivo',DocCamping)">Guardar</button>
                            </div>
                        </ng-template>
=======
                    <td class="text-center">
                        <a href="{{  '../storage/' + itemCamping.archivo_documento}}" target="_blank" class="btn-primary-outline">
                          <i class="far fa-file-alt" placement="top" ngbTooltip="Presione aqui visualizar documento PDF"></i>
                        </a>&nbsp;
                        <a class="btn-primary-outline" style="cursor: pointer" (click)="openActualizar(DocCampingModal)">
                          <ng-template #DocCampingModal let-c="close" let-d="dismiss">
                              <div class="modal-header" id="demoFont">
                                <h4 class="modal-title" id="modal-basic-title">Documento PDF</h4>
                                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                  <span aria-hidden="true">&times;</span>
                                </button>
                              </div>
                              <div class="modal-body">
  
                                <div class="form-group">
                                    <label> <strong>Reemplazar Documento Actual  </strong></label><i class="far fa-file-pdf"></i>
                                    <input class="form-control-file form-control-file-sm" #DocCamping type="file" (change)="onSelectImage($event)">
                                </div>
  
                              </div>
                              <div class="modal-footer">
                                <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                                <button type="button" class="btn btn-outline-success" (click)="actualizar(itemCamping.id,'archivo',DocCamping)">Guardar</button>
                              </div>
                          </ng-template>
                          <i class="far fa-copy" placement="top" ngbTooltip="Presione aqui para modificar documento PDF"></i>
                        </a>
>>>>>>> david
                    </td>

                    <td scope="col" colspan="4" (click)="openActualizar(descripcionCampingModal)">
                      {{itemCamping.descripcion}}
                      <ng-template #descripcionCampingModal let-c="close" let-d="dismiss">
                          <div class="modal-header" id="demoFont">
                            <h4 class="modal-title" id="modal-basic-title">Descripcion</h4>
                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                         
                          <div class="modal-body">

                              <div class="form-group">
                                  <label><strong>Descripcion Actual</strong></label> 
                                  <input type="text" class="form-control form-control-sm" value="{{itemCamping.descripcion}}" disabled>
                              </div>
                             <div class="form-group">
                                <label> <strong>Nueva Descripcion</strong></label> 
                                <input class="form-control form-control-sm" #descripcionCamping type="text">
                             </div>
  
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                            <button type="button" class="btn btn-outline-success" (click)="actualizar(itemCamping.id,'descripcion',descripcionCamping)">Guardar</button>
                          </div>
                      </ng-template> 
                    </td>
                    
                    <td scope="col" class="text-center" (click)="openActualizar(montoCampingModal)">
                      {{ itemCamping.monto_ingreso | currency:"CLP" : "symbol-narrow":'1.0'}}
                      <ng-template #montoCampingModal let-c="close" let-d="dismiss">
                          <div class="modal-header" id="demoFont">
                            <h4 class="modal-title" id="modal-basic-title">Ingreso y Egreso</h4>
                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>

                          <div class="modal-body">
                              <div class="form-group">
                                <label><strong>Seleccione Nuevo Tipo</strong></label>
                                <select #definicionCamping class="form-control form-control-sm">
                                  <option value="">Seleccione</option>
                                  <option *ngFor="let tipo of selectDefinicion" [value]="tipo.id">{{tipo.descripcion}}</option>
                                </select>
                              </div>
    
                              <div class="modal-footer">
                                <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                                <button type="button" class="btn btn-outline-success" (click)="actualizar(itemCamping.id,'definicion',definicionCamping)">Guardar</button>
                              </div> <hr>
    
                              <div class="form-group">
                                  <label><strong>Monto Actual</strong></label> 
                                  <input type="text" class="form-control form-control-sm" value="{{itemCamping.monto_ingreso}} {{itemCamping.monto_egreso}}" disabled>
                              </div>
                             <div class="form-group">
                                <label> <strong>Nuevo Monto</strong></label> 
                                <input class="form-control form-control-sm" #montoCamping type="text">
                             </div>
    
                              <div class="modal-footer">
                                  <button type="button" class="btn btn-info" (click)="cerrarActualizar()">Salir </button>
                                  <button type="button" class="btn btn-outline-success" (click)="actualizar(itemCamping.id,'monto',montoCamping)">Guardar</button>
                              </div>
    
                            </div>
                      </ng-template> 
                    </td>
                    <td scope="col" class="text-center" (click)="openActualizar(montoCampingModal)">
                      {{ itemCamping.monto_egreso | currency:"CLP" : "symbol-narrow":'1.0'}}
                    </td>
                    <!--acumulado cierre del mes actual--> 
                    <td scope="col" class="text-center">{{ itemCamping.saldo_actual_raw | currency:"CLP" : "symbol-narrow":'1.0'}}</td>
                </tr>

                <!--Cierre del mes-->
                <tr>
                  <th colspan="11" class="text-right">Total Cierre del Mes</th>
                  <td scope="col" class="text-center"><strong>{{ resultado.total_final | currency:"CLP" : "symbol-narrow":'1.0'}}</strong></td>
                </tr>
              </tbody>
            </table>
        </div> 
        <!--total del cierre de mes-->
        <div class="table-responsive">
            <table class="table table-bordered table-sm">
              <thead text-sm class="text-center">
                <tr>
                  <th col>INGRESOS</th>
                  <td col><strong>{{ resultado.ingreso_total | currency:"CLP" : "symbol-narrow":'1.0'}}</strong></td>
                </tr>
        
                <tr>
                  <th col>EGRESOS</th>
                  <td col><strong>{{ resultado.egreso_total | currency:"CLP" : "symbol-narrow":'1.0'}}</strong></td>
                </tr>
                <tr>
                  <th col>CIERRE MENSUAL ACTUAL (INGRESO - EGRESO)</th>
                  <td col><strong>{{ resultado.total_actual | currency:"CLP" : "symbol-narrow":'1.0'}}</strong></td>
                </tr>
              </thead>
            </table>
        </div>   
       </div>

       <div *ngIf="loading" class="loader">Loading...</div>

     <!--boton para volver a cuenta sindical del inicio y cierre mensual-->
     <div class="modal-footer">
        <button type="button" class="btn btn-info" (click)="modal.close('Close click')">Volver a Cuenta Sindical
        </button>
     </div>
   </form>
  </ng-template>
  
  <!--Boton Para llamar al Modal inicio y cierre mensual-->
  <button class="btn btn btn-success btn-block btn-sm" (click)="openTablaSindical(TablaSindical)"><i class="fas fa-table"></i> Ver Tabla</button>



